/**
 *
 * carbon-angular v0.0.0 | carbon-components-angular-modal.umd.min.js
 *
 * Copyright 2014, 2022 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs/operators"),require("carbon-components-angular/common"),require("@angular/common"),require("carbon-components-angular/forms"),require("carbon-components-angular/i18n"),require("carbon-components-angular/placeholder"),require("carbon-components-angular/experimental"),require("@angular/core"),require("carbon-components-angular/icon")):"function"==typeof define&&define.amd?define("carbon-components-angular/modal",["exports","rxjs/operators","carbon-components-angular/common","@angular/common","carbon-components-angular/forms","carbon-components-angular/i18n","carbon-components-angular/placeholder","carbon-components-angular/experimental","@angular/core","carbon-components-angular/icon"],e):e((t["carbon-components-angular"]=t["carbon-components-angular"]||{},t["carbon-components-angular"].modal={}),t.rxjs.operators,t["carbon-components-angular"].common,t.ng.common,t["carbon-components-angular"].forms,t["carbon-components-angular"].i18n,t["carbon-components-angular"].placeholder,t["carbon-components-angular"].experimental,t.ng.core,t["carbon-components-angular"].icon)}(this,function(t,s,o,e,n,a,r,l,i,c){"use strict";var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};var d=(u.prototype.closeModal=function(){this.close.emit()},u.decorators=[{type:i.Directive,args:[{selector:"[ibmBaseModal]"}]}],u.propDecorators={close:[{type:i.Output}],open:[{type:i.Input}]},u);function u(){this.close=new i.EventEmitter,this.open=!1}var m,y,g,h,b,f=(p(y=C,g=m=d),y.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v),C.prototype.ngAfterViewInit=function(){if(!this.modalContent)return!1;var t=this.modalContent.nativeElement;t.scrollHeight>t.clientHeight?t.tabIndex=0:t.tabIndex=-1},C.prototype.buttonClicked=function(t){var e=this.buttons[t];e.click&&e.click(),this.closeModal()},C.prototype.dismissModal=function(t){this.onClose&&!1===this.onClose(t)||this.closeModal()},C.decorators=[{type:i.Component,args:[{selector:"ibm-alert-modal",template:'\n\t\t<ibm-modal\n\t\t\t[size]="size"\n\t\t\t[theme]="type"\n\t\t\t[ariaLabel]="title"\n\t\t\t[hasScrollingContent]="hasScrollingContent"\n\t\t\t[open]="open"\n\t\t\t(overlaySelected)="dismissModal(\'overlay\')">\n\t\t\t<ibm-modal-header (closeSelect)="dismissModal(\'close\')" [showCloseButton]="showCloseButton">\n\t\t\t\t<p ibmModalHeaderLabel class="bx--type-delta">{{label}}</p>\n\t\t\t\t<p ibmModalHeaderHeading class="bx--type-beta">{{title}}</p>\n\t\t\t</ibm-modal-header>\n\t\t\t<div ibmModalContent #modalContent>\n\t\t\t\t<p [innerHTML]="content"></p>\n\t\t\t</div>\n\t\t\t<ibm-modal-footer *ngIf="buttons.length > 0">\n\t\t\t\t<ng-container *ngFor="let button of buttons; let i = index">\n\t\t\t\t\t<button\n\t\t\t\t\t\t[ibmButton]="button.type"\n\t\t\t\t\t\t(click)="buttonClicked(i)"\n\t\t\t\t\t\t[id]="button.id"\n\t\t\t\t\t\t[attr.modal-primary-focus]="(button.type.indexOf(\'primary\') !== -1 ? \'\' : null)">\n\t\t\t\t\t\t{{button.text}}\n\t\t\t\t\t</button>\n\t\t\t\t</ng-container>\n\t\t\t</ibm-modal-footer>\n\t\t</ibm-modal>\n\t'}]}],C.ctorParameters=function(){return[{type:undefined,decorators:[{type:i.Optional},{type:i.Inject,args:["type"]}]},{type:String,decorators:[{type:i.Optional},{type:i.Inject,args:["label"]}]},{type:String,decorators:[{type:i.Optional},{type:i.Inject,args:["title"]}]},{type:String,decorators:[{type:i.Optional},{type:i.Inject,args:["content"]}]},{type:String,decorators:[{type:i.Optional},{type:i.Inject,args:["size"]}]},{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:["hasScrollingContent"]}]},{type:undefined,decorators:[{type:i.Optional},{type:i.Inject,args:["buttons"]}]},{type:Function,decorators:[{type:i.Optional},{type:i.Inject,args:["close"]}]},{type:undefined,decorators:[{type:i.Optional},{type:i.Inject,args:["showCloseButton"]}]}]},C.propDecorators={modalContent:[{type:i.ViewChild,args:["modalContent",{"static":!0}]}]},C);function v(){this.constructor=y}function C(t,e,o,n,a,r,l,s,i){void 0===t&&(t="default"),void 0===r&&(r=null),void 0===l&&(l=[]),void 0===i&&(i=!0);var c=m.call(this)||this;c.type=t,c.label=e,c.title=o,c.content=n,c.size=a,c.hasScrollingContent=r,c.buttons=l,c.onClose=s,c.showCloseButton=i;for(var p=0;p<c.buttons.length;p++){var d=c.buttons[p];d.id||(d.id="alert-modal-button-"+p),d.type||(d.type="secondary")}return c}(h=t.AlertModalType||(t.AlertModalType={}))["default"]="default",h.danger="danger",(b=t.ModalButtonType||(t.ModalButtonType={})).primary="primary",b.secondary="secondary",b.tertiary="tertiary",b.ghost="ghost",b.danger="danger",b.danger_primary="danger--primary";var x=(S.decorators=[{type:i.Component,args:[{selector:"ibm-modal-footer",template:'\n\t\t<footer class="bx--modal-footer">\n\t\t\t<ng-content></ng-content>\n\t\t</footer>\n\t'}]}],S);function S(){}var M=(I.prototype.onClose=function(){this.closeSelect.emit()},I.decorators=[{type:i.Component,args:[{selector:"ibm-modal-header",template:'\n\t\t<header class="{{theme}} bx--modal-header">\n\t\t\t<ng-content></ng-content>\n\t\t\t<button\n\t\t\t\t*ngIf="showCloseButton"\n\t\t\t\ttype="button"\n\t\t\t\tclass="bx--modal-close"\n\t\t\t\t(click)="onClose()">\n\t\t\t\t<span class="bx--assistive-text">{{ closeLabel }}</span>\n\t\t\t\t<svg ibmIcon="close" size="20" class="bx--modal-close__icon"></svg>\n\t\t\t</button>\n\t\t</header>\n\n\t'}]}],I.ctorParameters=function(){return[{type:a.I18n},{type:l.ExperimentalService}]},I.propDecorators={theme:[{type:i.Input}],closeLabel:[{type:i.Input}],showCloseButton:[{type:i.Input}],closeSelect:[{type:i.Output}]},I);function I(t,e){this.i18n=t,this.experimental=e,this.theme="default",this.closeLabel=this.i18n.get().MODAL.CLOSE,this.showCloseButton=!0,this.closeSelect=new i.EventEmitter}var E=(L.prototype.create=function(e){var t=this;e=Object.assign({},{inputs:{}},e);var o=Object.keys(e.inputs).map(function(t){return{provide:t,useValue:e.inputs[t]}}),n=i.Injector.create(o),a=this.resolver.resolveComponentFactory(e.component),r=document.activeElement,l=this.placeholderService.createComponent(a,n);return setTimeout(function(){l.instance.open=!0}),l.previouslyFocusedElement=r,l.instance.close.pipe(s.tap(function(){l.instance.open=!1}),s.delay(150)).subscribe(function(){t.placeholderService.destroyComponent(l),L.modalList=L.modalList.filter(function(t){return t!==l})}),l.onDestroy(function(){r.focus()}),L.modalList.push(l),l},L.prototype.show=function(t){return this.create({component:f,inputs:{type:t.type,label:t.label,title:t.title,content:t.content,hasScrollingContent:t.hasScrollingContent||null,size:t.size,buttons:t.buttons||[],close:t.close||function(){},showCloseButton:t.showCloseButton}})},L.prototype.destroy=function(t){void 0===t&&(t=-1),t>=L.modalList.length||0===L.modalList.length||(t<0&&(t=L.modalList.length-1),this.placeholderService.destroyComponent(L.modalList[t]),L.modalList.splice(t,1))},L.modalList=[],L.decorators=[{type:i.Injectable}],L.ctorParameters=function(){return[{type:i.ComponentFactoryResolver},{type:r.PlaceholderService}]},L);function L(t,e){this.resolver=t,this.placeholderService=e}var w=(Object.defineProperty(O.prototype,"modalLabel",{get:function(){return this.ariaLabel},set:function(t){this.ariaLabel=t},enumerable:!0,configurable:!0}),O.prototype.ngOnChanges=function(t){var e=this,o=t.open;o&&(o.currentValue?setTimeout(function(){return e.focusInitialElement()},100):this.trigger&&this.trigger.focus())},O.prototype.ngAfterViewInit=function(){this.focusInitialElement()},O.prototype.handleKeyboardEvent=function(t){switch(t.key){case"Escape":t.stopImmediatePropagation(),this.modalService.destroy(),this.close.emit();break;case"Tab":o.cycleTabs(t,this.modal.nativeElement)}},Object.defineProperty(O.prototype,"shouldShowScrollbar",{get:function(){var t=this.modal?this.modal.nativeElement.querySelector(".bx--modal-content"):null;return!!t&&Math.ceil(t.getBoundingClientRect().height)<t.scrollHeight},enumerable:!0,configurable:!0}),O.prototype.focusInitialElement=function(){var t=this,e=this.modal.nativeElement.querySelector(this.selectorPrimaryFocus);e&&e.focus?setTimeout(function(){return e.focus()}):0<o.getFocusElementList(this.modal.nativeElement).length?setTimeout(function(){return o.getFocusElementList(t.modal.nativeElement)[0].focus()}):setTimeout(function(){return t.modal.nativeElement.focus()})},O.decorators=[{type:i.Component,args:[{selector:"ibm-modal",template:'\n\t\t<ibm-overlay\n\t\t\t[theme]="theme"\n\t\t\t[open]="open"\n\t\t\t(overlaySelect)="overlaySelected.emit()">\n\t\t\t<div\n\t\t\t\tclass="bx--modal-container"\n\t\t\t\t[ngClass]="{\n\t\t\t\t\t\'bx--modal-container--xs\': size === \'xs\',\n\t\t\t\t\t\'bx--modal-container--sm\': size === \'sm\',\n\t\t\t\t\t\'bx--modal-container--lg\': size === \'lg\'\n\t\t\t\t}"\n\t\t\t\trole="dialog"\n\t\t\t\taria-modal="true"\n\t\t\t\tstyle="z-index:1;"\n\t\t\t\t[attr.aria-label]="ariaLabel"\n\t\t\t\t#modal>\n\t\t\t\t<ng-content></ng-content>\n\t\t\t\t<div\n\t\t\t\t\t*ngIf="hasScrollingContent !== null ? hasScrollingContent : shouldShowScrollbar"\n\t\t\t\t\tclass="bx--modal-content--overflow-indicator">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ibm-overlay>\n\t'}]}],O.ctorParameters=function(){return[{type:E}]},O.propDecorators={size:[{type:i.Input}],theme:[{type:i.Input}],modalLabel:[{type:i.Input}],ariaLabel:[{type:i.Input}],open:[{type:i.Input}],trigger:[{type:i.Input}],hasScrollingContent:[{type:i.Input}],overlaySelected:[{type:i.Output}],close:[{type:i.Output}],modal:[{type:i.ViewChild,args:["modal",{"static":!0}]}],handleKeyboardEvent:[{type:i.HostListener,args:["keydown",["$event"]]}]},O);function O(t){this.modalService=t,this.theme="default",this.ariaLabel="default",this.open=!1,this.hasScrollingContent=null,this.overlaySelected=new i.EventEmitter,this.close=new i.EventEmitter,this.selectorPrimaryFocus="[modal-primary-focus]"}var H=(j.prototype.overlayClick=function(t){t.target===this.overlay.nativeElement&&(t.stopPropagation(),this.overlaySelect.emit(t))},j.decorators=[{type:i.Component,args:[{selector:"ibm-overlay",template:"\n\t\t<section\n\t\t\tclass=\"bx--modal bx--modal-tall\"\n\t\t\t[ngClass]=\"{\n\t\t\t\t'bx--modal--danger': theme === 'danger',\n\t\t\t\t'is-visible': open\n\t\t\t}\"\n\t\t\t(click)=\"overlayClick($event)\"\n\t\t\t#overlay>\n\t\t\t<ng-content></ng-content>\n\t\t</section>\n\t"}]}],j.propDecorators={theme:[{type:i.Input}],open:[{type:i.Input}],overlaySelect:[{type:i.Output}],overlay:[{type:i.ViewChild,args:["overlay",{"static":!0}]}]},j);function j(){this.theme="default",this.open=!1,this.overlaySelect=new i.EventEmitter}var B=(_.decorators=[{type:i.Directive,args:[{selector:"[ibmModalContent]"}]}],_.propDecorators={modalContentClass:[{type:i.HostBinding,args:["class.bx--modal-content"]}],hasForm:[{type:i.HostBinding,args:["class.bx--modal-content--with-form"]},{type:i.Input}]},_);function _(){this.modalContentClass=!0,this.hasForm=!1}var D=(T.decorators=[{type:i.Directive,args:[{selector:"[ibmModalContentText]"}]}],T.propDecorators={modalContentTextClass:[{type:i.HostBinding,args:["class.bx--modal-content__text"]}]},T);function T(){this.modalContentTextClass=!0}var P=(k.decorators=[{type:i.Directive,args:[{selector:"[ibmModalHeaderHeading]"}]}],k.propDecorators={modalHeaderHeadingClass:[{type:i.HostBinding,args:["class.bx--modal-header__heading"]}]},k);function k(){this.modalHeaderHeadingClass=!0}var z=(F.decorators=[{type:i.Directive,args:[{selector:"[ibmModalHeaderLabel]"}]}],F.propDecorators={modalHeaderLabelClass:[{type:i.HostBinding,args:["class.bx--modal-header__label"]}]},F);function F(){this.modalHeaderLabelClass=!0}var q=(A.decorators=[{type:i.NgModule,args:[{declarations:[f,w,M,x,H,B,D,P,z,d],exports:[f,w,M,x,B,D,P,z,d],entryComponents:[f,w,x,M],providers:[E],imports:[e.CommonModule,n.ButtonModule,a.I18nModule,r.PlaceholderModule,l.ExperimentalModule,c.IconModule]}]}],A);function A(){}t.AlertModal=f,t.BaseModal=d,t.ModalFooter=x,t.ModalHeader=M,t.Modal=w,t.ModalModule=q,t.ModalService=E,t.Overlay=H,t.ModalContent=B,t.ModalContentText=D,t.ModalHeaderHeading=P,t.ModalHeaderLabel=z,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=carbon-components-angular-modal.umd.min.js.map