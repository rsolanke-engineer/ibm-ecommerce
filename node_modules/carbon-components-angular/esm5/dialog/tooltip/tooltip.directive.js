/**
 *
 * carbon-angular v0.0.0 | tooltip.directive.js
 *
 * Copyright 2014, 2022 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


import * as tslib_1 from "tslib";
import { Directive, Input, ElementRef, ViewContainerRef, HostBinding } from "@angular/core";
import { DialogDirective } from "../dialog.directive";
import { Tooltip } from "./tooltip.component";
import { DialogService } from "../dialog.service";
import { EventService } from "carbon-components-angular/utils";
/**
 * Directive for extending `Dialog` to create tooltips.
 *
 * [See demo](../../?path=/story/components-tooltip--basic)
 *
 * class: TooltipDirective (extends PopoverDirective)
 *
 *
 * selector: `nTooltip`
 *
 *
 * ```html
 * <button nTooltip="I am a tooltip" placement="right" trigger="mouseenter" type="danger">Tooltip Right</button>
 * <button nTooltip="I am a tooltip" type="warning">Tooltip Top warning on click</button>
 * ```
 *
 * <example-url>../../iframe.html?id=components-tooltip--basic</example-url>
 */
var TooltipDirective = /** @class */ (function (_super) {
    tslib_1.__extends(TooltipDirective, _super);
    /**
     * Creates an instance of `TooltipDirective`.
     */
    function TooltipDirective(elementRef, viewContainerRef, dialogService, eventService) {
        var _this = _super.call(this, elementRef, viewContainerRef, dialogService, eventService) || this;
        _this.elementRef = elementRef;
        _this.viewContainerRef = viewContainerRef;
        _this.dialogService = dialogService;
        _this.eventService = eventService;
        /**
         * Set tooltip type to reflect 'warning' or 'error' styles.
         */
        // tslint:disable-next-line:no-input-rename
        _this.tooltipType = "";
        _this.tabIndex = 0;
        _this.className = true;
        dialogService.setContext({ component: Tooltip });
        return _this;
    }
    Object.defineProperty(TooltipDirective.prototype, "descriptorId", {
        get: function () {
            return this.isOpen ? this.dialogConfig.compID : null;
        },
        enumerable: true,
        configurable: true
    });
    TooltipDirective.prototype.updateConfig = function () {
        this.dialogConfig.content = this.ibmTooltip;
        this.dialogConfig.type = this.tooltipType;
        this.dialogConfig.offset = this.offset;
    };
    TooltipDirective.decorators = [
        { type: Directive, args: [{
                    selector: "[ibmTooltip]",
                    exportAs: "ibmTooltip",
                    providers: [
                        DialogService
                    ]
                },] }
    ];
    /** @nocollapse */
    TooltipDirective.ctorParameters = function () { return [
        { type: ElementRef },
        { type: ViewContainerRef },
        { type: DialogService },
        { type: EventService }
    ]; };
    TooltipDirective.propDecorators = {
        ibmTooltip: [{ type: Input }],
        tooltipType: [{ type: Input, args: ["tooltip-type",] }],
        tabIndex: [{ type: HostBinding, args: ["tabindex",] }],
        className: [{ type: HostBinding, args: ["class.bx--tooltip__trigger",] }],
        descriptorId: [{ type: HostBinding, args: ["attr.aria-describedby",] }]
    };
    return TooltipDirective;
}(DialogDirective));
export { TooltipDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9vbHRpcC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9jYXJib24tY29tcG9uZW50cy1hbmd1bGFyL2RpYWxvZy8iLCJzb3VyY2VzIjpbInRvb2x0aXAvdG9vbHRpcC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDTixTQUFTLEVBQ1QsS0FBSyxFQUVMLFVBQVUsRUFHVixnQkFBZ0IsRUFDaEIsV0FBVyxFQUNYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDOUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUcvRDs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQkc7QUFDSDtJQU9zQyw0Q0FBZTtJQW1CcEQ7O09BRUc7SUFDSCwwQkFDVyxVQUFzQixFQUN0QixnQkFBa0MsRUFDbEMsYUFBNEIsRUFDNUIsWUFBMEI7UUFKckMsWUFNQyxrQkFBTSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsYUFBYSxFQUFFLFlBQVksQ0FBQyxTQUVoRTtRQVBVLGdCQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3RCLHNCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7UUFDbEMsbUJBQWEsR0FBYixhQUFhLENBQWU7UUFDNUIsa0JBQVksR0FBWixZQUFZLENBQWM7UUFyQnJDOztXQUVHO1FBQ0gsMkNBQTJDO1FBQ3BCLGlCQUFXLEdBQTZCLEVBQUUsQ0FBQztRQUV6QyxjQUFRLEdBQUcsQ0FBQyxDQUFDO1FBRUssZUFBUyxHQUFHLElBQUksQ0FBQztRQWdCM0QsYUFBYSxDQUFDLFVBQVUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDOztJQUNsRCxDQUFDO0lBZkQsc0JBQTBDLDBDQUFZO2FBQXREO1lBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3RELENBQUM7OztPQUFBO0lBZUQsdUNBQVksR0FBWjtRQUNDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDNUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUMxQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3hDLENBQUM7O2dCQTNDRCxTQUFTLFNBQUM7b0JBQ1YsUUFBUSxFQUFFLGNBQWM7b0JBQ3hCLFFBQVEsRUFBRSxZQUFZO29CQUN0QixTQUFTLEVBQUU7d0JBQ1YsYUFBYTtxQkFDYjtpQkFDRDs7OztnQkFwQ0EsVUFBVTtnQkFHVixnQkFBZ0I7Z0JBS1IsYUFBYTtnQkFDYixZQUFZOzs7NkJBZ0NuQixLQUFLOzhCQUtMLEtBQUssU0FBQyxjQUFjOzJCQUVwQixXQUFXLFNBQUMsVUFBVTs0QkFFdEIsV0FBVyxTQUFDLDRCQUE0QjsrQkFFeEMsV0FBVyxTQUFDLHVCQUF1Qjs7SUFzQnJDLHVCQUFDO0NBQUEsQUE1Q0QsQ0FPc0MsZUFBZSxHQXFDcEQ7U0FyQ1ksZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcblx0RGlyZWN0aXZlLFxuXHRJbnB1dCxcblx0VGVtcGxhdGVSZWYsXG5cdEVsZW1lbnRSZWYsXG5cdEluamVjdG9yLFxuXHRDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG5cdFZpZXdDb250YWluZXJSZWYsXG5cdEhvc3RCaW5kaW5nXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBEaWFsb2dEaXJlY3RpdmUgfSBmcm9tIFwiLi4vZGlhbG9nLmRpcmVjdGl2ZVwiO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gXCIuL3Rvb2x0aXAuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEaWFsb2dTZXJ2aWNlIH0gZnJvbSBcIi4uL2RpYWxvZy5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tIFwiY2FyYm9uLWNvbXBvbmVudHMtYW5ndWxhci91dGlsc1wiO1xuXG5cbi8qKlxuICogRGlyZWN0aXZlIGZvciBleHRlbmRpbmcgYERpYWxvZ2AgdG8gY3JlYXRlIHRvb2x0aXBzLlxuICpcbiAqIFtTZWUgZGVtb10oLi4vLi4vP3BhdGg9L3N0b3J5L2NvbXBvbmVudHMtdG9vbHRpcC0tYmFzaWMpXG4gKlxuICogY2xhc3M6IFRvb2x0aXBEaXJlY3RpdmUgKGV4dGVuZHMgUG9wb3ZlckRpcmVjdGl2ZSlcbiAqXG4gKlxuICogc2VsZWN0b3I6IGBuVG9vbHRpcGBcbiAqXG4gKlxuICogYGBgaHRtbFxuICogPGJ1dHRvbiBuVG9vbHRpcD1cIkkgYW0gYSB0b29sdGlwXCIgcGxhY2VtZW50PVwicmlnaHRcIiB0cmlnZ2VyPVwibW91c2VlbnRlclwiIHR5cGU9XCJkYW5nZXJcIj5Ub29sdGlwIFJpZ2h0PC9idXR0b24+XG4gKiA8YnV0dG9uIG5Ub29sdGlwPVwiSSBhbSBhIHRvb2x0aXBcIiB0eXBlPVwid2FybmluZ1wiPlRvb2x0aXAgVG9wIHdhcm5pbmcgb24gY2xpY2s8L2J1dHRvbj5cbiAqIGBgYFxuICpcbiAqIDxleGFtcGxlLXVybD4uLi8uLi9pZnJhbWUuaHRtbD9pZD1jb21wb25lbnRzLXRvb2x0aXAtLWJhc2ljPC9leGFtcGxlLXVybD5cbiAqL1xuQERpcmVjdGl2ZSh7XG5cdHNlbGVjdG9yOiBcIltpYm1Ub29sdGlwXVwiLFxuXHRleHBvcnRBczogXCJpYm1Ub29sdGlwXCIsXG5cdHByb3ZpZGVyczogW1xuXHRcdERpYWxvZ1NlcnZpY2Vcblx0XVxufSlcbmV4cG9ydCBjbGFzcyBUb29sdGlwRGlyZWN0aXZlIGV4dGVuZHMgRGlhbG9nRGlyZWN0aXZlIHtcblx0LyoqXG5cdCAqIFRoZSBzdHJpbmcgb3IgdGVtcGxhdGUgY29udGVudCB0byBiZSBleHBvc2VkIGJ5IHRoZSB0b29sdGlwLlxuXHQgKi9cblx0QElucHV0KCkgaWJtVG9vbHRpcDogc3RyaW5nIHwgVGVtcGxhdGVSZWY8YW55Pjtcblx0LyoqXG5cdCAqIFNldCB0b29sdGlwIHR5cGUgdG8gcmVmbGVjdCAnd2FybmluZycgb3IgJ2Vycm9yJyBzdHlsZXMuXG5cdCAqL1xuXHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8taW5wdXQtcmVuYW1lXG5cdEBJbnB1dChcInRvb2x0aXAtdHlwZVwiKSB0b29sdGlwVHlwZTogXCJ3YXJuaW5nXCIgfCBcImVycm9yXCIgfCBcIlwiID0gXCJcIjtcblxuXHRASG9zdEJpbmRpbmcoXCJ0YWJpbmRleFwiKSB0YWJJbmRleCA9IDA7XG5cblx0QEhvc3RCaW5kaW5nKFwiY2xhc3MuYngtLXRvb2x0aXBfX3RyaWdnZXJcIikgY2xhc3NOYW1lID0gdHJ1ZTtcblxuXHRASG9zdEJpbmRpbmcoXCJhdHRyLmFyaWEtZGVzY3JpYmVkYnlcIikgZ2V0IGRlc2NyaXB0b3JJZCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmlzT3BlbiA/IHRoaXMuZGlhbG9nQ29uZmlnLmNvbXBJRCA6IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBgVG9vbHRpcERpcmVjdGl2ZWAuXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcm90ZWN0ZWQgZWxlbWVudFJlZjogRWxlbWVudFJlZixcblx0XHRwcm90ZWN0ZWQgdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZixcblx0XHRwcm90ZWN0ZWQgZGlhbG9nU2VydmljZTogRGlhbG9nU2VydmljZSxcblx0XHRwcm90ZWN0ZWQgZXZlbnRTZXJ2aWNlOiBFdmVudFNlcnZpY2Vcblx0KSB7XG5cdFx0c3VwZXIoZWxlbWVudFJlZiwgdmlld0NvbnRhaW5lclJlZiwgZGlhbG9nU2VydmljZSwgZXZlbnRTZXJ2aWNlKTtcblx0XHRkaWFsb2dTZXJ2aWNlLnNldENvbnRleHQoeyBjb21wb25lbnQ6IFRvb2x0aXAgfSk7XG5cdH1cblxuXHR1cGRhdGVDb25maWcoKSB7XG5cdFx0dGhpcy5kaWFsb2dDb25maWcuY29udGVudCA9IHRoaXMuaWJtVG9vbHRpcDtcblx0XHR0aGlzLmRpYWxvZ0NvbmZpZy50eXBlID0gdGhpcy50b29sdGlwVHlwZTtcblx0XHR0aGlzLmRpYWxvZ0NvbmZpZy5vZmZzZXQgPSB0aGlzLm9mZnNldDtcblx0fVxufVxuIl19